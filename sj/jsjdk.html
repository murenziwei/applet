<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
		<title></title>
		<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
		<script type="text/javascript">
			var lwConfig={
				debug:true,
				appId:"",
				timestamp:new Date().getTime(),
				nonceStr:""
			}
			//通过config接口注入权限验证配置
			wx.config({
			    debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
			    appId: 'wx85cc33fcef6c002e', // 必填，公众号的唯一标识
			    timestamp: new Date().getTime(), // 必填，生成签名的时间戳
			    nonceStr: '<?php echo $nonceStr;?>', // 必填，生成签名的随机串
			    signature: '<?php echo $signature;?>',// 必填，签名
			    jsApiList: [] // 必填，需要使用的JS接口列表
			});
			//通过ready接口处理成功验证
			wx.ready(function(){
				// config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后
			});
		</script>
	</head>
	<body>
		<div></div>
	</body>
	<script>
		 var xmlHttp

		 function showRSS(str)
		 { 
		 xmlHttp=GetXmlHttpObject()
		 if (xmlHttp==null)
		  {
		  alert ("Browser does not support HTTP Request")
		  return
		  }
		 var url=str;
		 xmlHttp.onreadystatechange=stateChanged 
		 xmlHttp.open("GET",url,true)
		 xmlHttp.send(null)
		 }
		 function stateChanged() 
		 { 
		 if (xmlHttp.readyState==4 || xmlHttp.readyState=="complete")
		  { 
		  	console.log(xmlHttp.responseText);
		  } 
		 }
		 function GetXmlHttpObject()
		{
		var xmlHttp=null;
		try
		 {
		 // Firefox, Opera 8.0+, Safari
		 xmlHttp=new XMLHttpRequest();
		 }
		catch (e)
		 {
		 // Internet Explorer
		 try
		  {
		  xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
		  }
		 catch (e)
		  {
		  xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
		  }
		 }
		return xmlHttp;
		}
	     var url="https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=17_ZSycKI0XiZ1QCSFv4w9cRv5pD6qcl81H4IDUFMGqoJEToMLNB7CliQ2RCw4t-ExUIrS3QmbAc8f5GzTI9Qo0YeMtTj4C1QnlBHwQ2UhYfomYlrFghqCZFiiYHJMNUEdACAQXH&type=jsapi"
	     showRSS(url);
	</script>
</html>
